<?php defined('BASEPATH') OR exit('No direct script access allowed'); ?>

ERROR - 2020-01-22 08:20:37 --> Severity: Notice --> Undefined property: finance_report_buku_bank::$finance_report_buku_bank /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 08:20:37 --> Severity: error --> Exception: Call to a member function get_data_table() on null /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 08:20:53 --> Severity: Notice --> Undefined property: finance_report_buku_bank::$finance_report_buku_bank /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 08:20:53 --> Severity: error --> Exception: Call to a member function get_data_table() on null /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 01:21:02 --> 404 Page Not Found: Assets/js
ERROR - 2020-01-22 01:21:10 --> 404 Page Not Found: Assets/js
ERROR - 2020-01-22 08:21:10 --> Severity: Notice --> Undefined property: finance_report_buku_bank::$finance_report_buku_bank /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 08:21:10 --> Severity: error --> Exception: Call to a member function get_data_table() on null /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 01:35:26 --> 404 Page Not Found: Select_data_cash_month/2020
ERROR - 2020-01-22 01:35:26 --> 404 Page Not Found: Select_data_monthly/2020
ERROR - 2020-01-22 01:35:26 --> 404 Page Not Found: Select_data_income_expenses/2020
ERROR - 2020-01-22 01:35:26 --> 404 Page Not Found: Select_data_cash_month/2020
ERROR - 2020-01-22 01:35:26 --> 404 Page Not Found: Select_data_income_expenses/2020
ERROR - 2020-01-22 01:46:54 --> 404 Page Not Found: Assets/js
ERROR - 2020-01-22 08:46:55 --> Severity: Notice --> Undefined property: finance_report_buku_bank::$finance_report_buku_bank /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 08:46:55 --> Severity: error --> Exception: Call to a member function get_data_table() on null /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 56
ERROR - 2020-01-22 01:47:02 --> 404 Page Not Found: Finance_report_buku_bank/upload_file
ERROR - 2020-01-22 09:24:11 --> Severity: Notice --> Undefined property: finance_report_buku_bank::$importfile /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 77
ERROR - 2020-01-22 09:24:11 --> Severity: error --> Exception: Call to a member function CekExcel() on null /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 77
ERROR - 2020-01-22 09:24:19 --> Severity: Notice --> Undefined property: finance_report_buku_bank::$importfile /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 77
ERROR - 2020-01-22 09:24:19 --> Severity: error --> Exception: Call to a member function CekExcel() on null /data/www/html/erpsmg/finance_gmedia/application/controllers/Finance_report_buku_bank.php 77
ERROR - 2020-01-22 10:12:55 --> Query error: Unknown column 'invoice_id' in 'where clause' - Invalid query: DELETE FROM `gmd_finance_ap_invoice_detail`
WHERE `invoice_id` = '2'
ERROR - 2020-01-22 03:13:38 --> 404 Page Not Found: Select_data_cash_month/2020
ERROR - 2020-01-22 03:13:38 --> 404 Page Not Found: Select_data_income_expenses/2020
ERROR - 2020-01-22 03:13:38 --> 404 Page Not Found: Select_data_monthly/2020
ERROR - 2020-01-22 03:13:38 --> 404 Page Not Found: Select_data_cash_month/2020
ERROR - 2020-01-22 03:13:38 --> 404 Page Not Found: Select_data_income_expenses/2020
ERROR - 2020-01-22 10:15:14 --> Query error: Unknown column 'invoice_id' in 'where clause' - Invalid query: DELETE FROM `gmd_finance_ap_invoice_detail`
WHERE `invoice_id` = '1'
ERROR - 2020-01-22 10:15:30 --> Query error: Unknown column 'a.invoice_id' in 'where clause' - Invalid query: SELECT a.*
FROM `gmd_finance_ap_invoice_detail` AS `a`
WHERE `a`.`invoice_id` = '3'
ORDER BY `a`.`deskripsi` ASC
ERROR - 2020-01-22 10:24:14 --> Query error: Unknown column 'a.invoice_id' in 'where clause' - Invalid query: SELECT a.*
FROM `gmd_finance_ap_invoice_detail` AS `a`
WHERE `a`.`invoice_id` = '3'
ORDER BY `a`.`deskripsi` ASC
ERROR - 2020-01-22 10:25:46 --> Query error: Unknown column 'a.invoice_id' in 'where clause' - Invalid query: SELECT a.*
FROM `gmd_finance_ap_invoice_detail` AS `a`
WHERE `a`.`invoice_id` = '3'
ORDER BY `a`.`deskripsi` ASC
ERROR - 2020-01-22 10:30:24 --> Query error: Unknown column 'a.invoice_id' in 'where clause' - Invalid query: SELECT a.*
FROM `gmd_finance_ap_invoice_detail` AS `a`
WHERE `a`.`invoice_id` = '4'
ORDER BY `a`.`deskripsi` ASC
ERROR - 2020-01-22 11:53:26 --> Query error: Unknown column 'a.invoice_id' in 'where clause' - Invalid query: SELECT a.*
FROM `gmd_finance_ap_invoice_detail` AS `a`
WHERE `a`.`invoice_id` = '4'
ORDER BY `a`.`deskripsi` ASC
ERROR - 2020-01-22 13:45:04 --> Query error: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_baran' at line 83 - Invalid query: SELECT * FROM (SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,SUM(
			IF(
			  z.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / z.`qty_konversi`))
			)
		  ) AS jumlah,
		  z.`ukuran`,
		  z.`harga`,
		  z.`diskon`,
		  z.`ongkir`,
		SUM(
			  IF(
				z.`qty_konversi` IS NULL,
				z.`qty`,
				ROUND((z.`qty` / z.`qty_konversi`))
		)* z.`harga`) AS total,
		  z.`keterangan`
	  FROM
		(SELECT
		  d.`id_header`,
		  h.`nomor`,
		  h.`tanggal`,
		  h.`id_pembelian`,
		  b.`id_perusahaan`,
		  b.`supplier`,
		  b.`nomor_po`,
		  b.`tgl_pembelian`,
		  d.`id_barang`,
		  br.`nama_barang`,
		  k.`qty_konversi`,
		  d.`qty`,
		  (SELECT
			nama_ukuran
		  FROM
		  inventory_v2.`ms_ukuran` p
		  WHERE p.`id_ukuran` = d.`id_ukuran`) ukuran,
		  b.`harga`,
		  b.`diskon`,
		  b.`ongkir`,
		  b.`keterangan`
		FROM
		  inventory_v2.`tr_d_penerimaan` d
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		  JOIN inventory_v2.`tr_h_penerimaan` h
			ON d.`id_header` = h.`id_header`
		  LEFT JOIN inventory_v2.`ms_konversi` k
			ON d.`id_barang` = k.`id_barang`
		  JOIN
			(SELECT
			  d.`id_header` AS id_pembelian,
			  h.`id_perusahaan`,
			  p.`nama` AS supplier,
			  h.`nomor` AS nomor_po,
			  h.`tanggal` AS tgl_pembelian,
			  d.`id_barang`,
			  d.`harga`,
			  h.`diskon`,
			  h.`ongkir`,
			  d.`total`,
			  IF(
				h.`keterangan` IS NOT NULL,
				h.`keterangan`,
				''
			  ) AS keterangan
			FROM
			  inventory_v2.`tr_d_pembelian` d
			  JOIN inventory_v2.`tr_h_pembelian` h
				ON d.`id_header` = h.`id_header`
			  JOIN inventory_v2.`ms_perusahaan` p
				ON h.`id_perusahaan` = p.`id_perusahaan`
			WHERE p.`id_perusahaan`=) b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_barang`
		WHERE br.`flag`='B') z
	  GROUP BY id_header
	  UNION ALL 
	  SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,
		SUM(
		  IF(
			k.`qty_konversi` IS NULL,
			z.`qty`,
			ROUND((z.`qty` / k.`qty_konversi`))
		  )
		) AS jumlah,
		(SELECT
		  nama_ukuran
		FROM
		inventory_v2.`ms_ukuran` p
		WHERE p.`id_ukuran` = z.`id_ukuran`) ukuran,
		z.`harga`,
		z.`diskon`,
		z.`ongkir`,
		SUM(
			IF(
			  k.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / k.`qty_konversi`))
		) * z.`harga`)AS total,
		z.`keterangan`
	  FROM
		(SELECT
		  NULL AS id_header,
		  NULL AS nomor,
		  h.`tanggal` AS tanggal,
		  d.`id_header` AS id_pembelian,
		  h.`id_perusahaan`,
		  p.`nama` AS supplier,
		  h.`nomor` AS nomor_po,
		  h.`tanggal` AS tgl_pembelian,
		  d.`id_barang`,
		  br.`nama_barang`,
		  d.`harga`,
		  h.`diskon`,
		  h.`ongkir`,
		  d.`id_ukuran`,
		  d.`qty`,
		  d.`total`,
		  IF(
			h.`keterangan` IS NOT NULL,
			h.`keterangan`,
			''
		  ) AS keterangan
		FROM
		  inventory_v2.`tr_d_pembelian` d
		  JOIN inventory_v2.`tr_h_pembelian` h
			ON d.`id_header` = h.`id_header`
		  JOIN inventory_v2.`ms_perusahaan` p
			ON h.`id_perusahaan` = p.`id_perusahaan`
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		WHERE p.`id_perusahaan`= AND NOT EXISTS (SELECT a.`id_header` FROM inventory_v2.`tr_h_penerimaan` a
        JOIN inventory_v2.`tr_d_penerimaan` c
        ON a.`id_header`=c.`id_header`
        JOIN inventory_v2.`ms_header_barang` b
          ON c.`id_barang` = b.`id_header`
      WHERE a.`id_pembelian` = d.`id_header`)) z
    LEFT JOIN inventory_v2.`ms_konversi` k
		  ON z.`id_barang` = k.`id_barang`
		  GROUP BY z.`id_pembelian`) X ORDER BY x.`tanggal` DESC
ERROR - 2020-01-22 14:09:09 --> Query error: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_baran' at line 83 - Invalid query: SELECT * FROM (SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,SUM(
			IF(
			  z.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / z.`qty_konversi`))
			)
		  ) AS jumlah,
		  z.`ukuran`,
		  z.`harga`,
		  z.`diskon`,
		  z.`ongkir`,
		SUM(
			  IF(
				z.`qty_konversi` IS NULL,
				z.`qty`,
				ROUND((z.`qty` / z.`qty_konversi`))
		)* z.`harga`) AS total,
		  z.`keterangan`
	  FROM
		(SELECT
		  d.`id_header`,
		  h.`nomor`,
		  h.`tanggal`,
		  h.`id_pembelian`,
		  b.`id_perusahaan`,
		  b.`supplier`,
		  b.`nomor_po`,
		  b.`tgl_pembelian`,
		  d.`id_barang`,
		  br.`nama_barang`,
		  k.`qty_konversi`,
		  d.`qty`,
		  (SELECT
			nama_ukuran
		  FROM
		  inventory_v2.`ms_ukuran` p
		  WHERE p.`id_ukuran` = d.`id_ukuran`) ukuran,
		  b.`harga`,
		  b.`diskon`,
		  b.`ongkir`,
		  b.`keterangan`
		FROM
		  inventory_v2.`tr_d_penerimaan` d
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		  JOIN inventory_v2.`tr_h_penerimaan` h
			ON d.`id_header` = h.`id_header`
		  LEFT JOIN inventory_v2.`ms_konversi` k
			ON d.`id_barang` = k.`id_barang`
		  JOIN
			(SELECT
			  d.`id_header` AS id_pembelian,
			  h.`id_perusahaan`,
			  p.`nama` AS supplier,
			  h.`nomor` AS nomor_po,
			  h.`tanggal` AS tgl_pembelian,
			  d.`id_barang`,
			  d.`harga`,
			  h.`diskon`,
			  h.`ongkir`,
			  d.`total`,
			  IF(
				h.`keterangan` IS NOT NULL,
				h.`keterangan`,
				''
			  ) AS keterangan
			FROM
			  inventory_v2.`tr_d_pembelian` d
			  JOIN inventory_v2.`tr_h_pembelian` h
				ON d.`id_header` = h.`id_header`
			  JOIN inventory_v2.`ms_perusahaan` p
				ON h.`id_perusahaan` = p.`id_perusahaan`
			WHERE p.`id_perusahaan`=) b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_barang`
		WHERE br.`flag`='B') z
	  GROUP BY id_header
	  UNION ALL 
	  SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,
		SUM(
		  IF(
			k.`qty_konversi` IS NULL,
			z.`qty`,
			ROUND((z.`qty` / k.`qty_konversi`))
		  )
		) AS jumlah,
		(SELECT
		  nama_ukuran
		FROM
		inventory_v2.`ms_ukuran` p
		WHERE p.`id_ukuran` = z.`id_ukuran`) ukuran,
		z.`harga`,
		z.`diskon`,
		z.`ongkir`,
		SUM(
			IF(
			  k.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / k.`qty_konversi`))
		) * z.`harga`)AS total,
		z.`keterangan`
	  FROM
		(SELECT
		  NULL AS id_header,
		  NULL AS nomor,
		  h.`tanggal` AS tanggal,
		  d.`id_header` AS id_pembelian,
		  h.`id_perusahaan`,
		  p.`nama` AS supplier,
		  h.`nomor` AS nomor_po,
		  h.`tanggal` AS tgl_pembelian,
		  d.`id_barang`,
		  br.`nama_barang`,
		  d.`harga`,
		  h.`diskon`,
		  h.`ongkir`,
		  d.`id_ukuran`,
		  d.`qty`,
		  d.`total`,
		  IF(
			h.`keterangan` IS NOT NULL,
			h.`keterangan`,
			''
		  ) AS keterangan
		FROM
		  inventory_v2.`tr_d_pembelian` d
		  JOIN inventory_v2.`tr_h_pembelian` h
			ON d.`id_header` = h.`id_header`
		  JOIN inventory_v2.`ms_perusahaan` p
			ON h.`id_perusahaan` = p.`id_perusahaan`
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		WHERE p.`id_perusahaan`= AND NOT EXISTS (SELECT a.`id_header` FROM inventory_v2.`tr_h_penerimaan` a
        JOIN inventory_v2.`tr_d_penerimaan` c
        ON a.`id_header`=c.`id_header`
        JOIN inventory_v2.`ms_header_barang` b
          ON c.`id_barang` = b.`id_header`
      WHERE a.`id_pembelian` = d.`id_header`)) z
    LEFT JOIN inventory_v2.`ms_konversi` k
		  ON z.`id_barang` = k.`id_barang`
		  GROUP BY z.`id_pembelian`) X ORDER BY x.`tanggal` DESC
ERROR - 2020-01-22 14:10:16 --> Query error: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_baran' at line 83 - Invalid query: SELECT * FROM (SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,SUM(
			IF(
			  z.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / z.`qty_konversi`))
			)
		  ) AS jumlah,
		  z.`ukuran`,
		  z.`harga`,
		  z.`diskon`,
		  z.`ongkir`,
		SUM(
			  IF(
				z.`qty_konversi` IS NULL,
				z.`qty`,
				ROUND((z.`qty` / z.`qty_konversi`))
		)* z.`harga`) AS total,
		  z.`keterangan`
	  FROM
		(SELECT
		  d.`id_header`,
		  h.`nomor`,
		  h.`tanggal`,
		  h.`id_pembelian`,
		  b.`id_perusahaan`,
		  b.`supplier`,
		  b.`nomor_po`,
		  b.`tgl_pembelian`,
		  d.`id_barang`,
		  br.`nama_barang`,
		  k.`qty_konversi`,
		  d.`qty`,
		  (SELECT
			nama_ukuran
		  FROM
		  inventory_v2.`ms_ukuran` p
		  WHERE p.`id_ukuran` = d.`id_ukuran`) ukuran,
		  b.`harga`,
		  b.`diskon`,
		  b.`ongkir`,
		  b.`keterangan`
		FROM
		  inventory_v2.`tr_d_penerimaan` d
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		  JOIN inventory_v2.`tr_h_penerimaan` h
			ON d.`id_header` = h.`id_header`
		  LEFT JOIN inventory_v2.`ms_konversi` k
			ON d.`id_barang` = k.`id_barang`
		  JOIN
			(SELECT
			  d.`id_header` AS id_pembelian,
			  h.`id_perusahaan`,
			  p.`nama` AS supplier,
			  h.`nomor` AS nomor_po,
			  h.`tanggal` AS tgl_pembelian,
			  d.`id_barang`,
			  d.`harga`,
			  h.`diskon`,
			  h.`ongkir`,
			  d.`total`,
			  IF(
				h.`keterangan` IS NOT NULL,
				h.`keterangan`,
				''
			  ) AS keterangan
			FROM
			  inventory_v2.`tr_d_pembelian` d
			  JOIN inventory_v2.`tr_h_pembelian` h
				ON d.`id_header` = h.`id_header`
			  JOIN inventory_v2.`ms_perusahaan` p
				ON h.`id_perusahaan` = p.`id_perusahaan`
			WHERE p.`id_perusahaan`=) b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_barang`
		WHERE br.`flag`='B') z
	  GROUP BY id_header
	  UNION ALL 
	  SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,
		SUM(
		  IF(
			k.`qty_konversi` IS NULL,
			z.`qty`,
			ROUND((z.`qty` / k.`qty_konversi`))
		  )
		) AS jumlah,
		(SELECT
		  nama_ukuran
		FROM
		inventory_v2.`ms_ukuran` p
		WHERE p.`id_ukuran` = z.`id_ukuran`) ukuran,
		z.`harga`,
		z.`diskon`,
		z.`ongkir`,
		SUM(
			IF(
			  k.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / k.`qty_konversi`))
		) * z.`harga`)AS total,
		z.`keterangan`
	  FROM
		(SELECT
		  NULL AS id_header,
		  NULL AS nomor,
		  h.`tanggal` AS tanggal,
		  d.`id_header` AS id_pembelian,
		  h.`id_perusahaan`,
		  p.`nama` AS supplier,
		  h.`nomor` AS nomor_po,
		  h.`tanggal` AS tgl_pembelian,
		  d.`id_barang`,
		  br.`nama_barang`,
		  d.`harga`,
		  h.`diskon`,
		  h.`ongkir`,
		  d.`id_ukuran`,
		  d.`qty`,
		  d.`total`,
		  IF(
			h.`keterangan` IS NOT NULL,
			h.`keterangan`,
			''
		  ) AS keterangan
		FROM
		  inventory_v2.`tr_d_pembelian` d
		  JOIN inventory_v2.`tr_h_pembelian` h
			ON d.`id_header` = h.`id_header`
		  JOIN inventory_v2.`ms_perusahaan` p
			ON h.`id_perusahaan` = p.`id_perusahaan`
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		WHERE p.`id_perusahaan`= AND NOT EXISTS (SELECT a.`id_header` FROM inventory_v2.`tr_h_penerimaan` a
        JOIN inventory_v2.`tr_d_penerimaan` c
        ON a.`id_header`=c.`id_header`
        JOIN inventory_v2.`ms_header_barang` b
          ON c.`id_barang` = b.`id_header`
      WHERE a.`id_pembelian` = d.`id_header`)) z
    LEFT JOIN inventory_v2.`ms_konversi` k
		  ON z.`id_barang` = k.`id_barang`
		  GROUP BY z.`id_pembelian`) X ORDER BY x.`tanggal` DESC
ERROR - 2020-01-22 14:49:27 --> Query error: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_baran' at line 83 - Invalid query: SELECT * FROM (SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,SUM(
			IF(
			  z.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / z.`qty_konversi`))
			)
		  ) AS jumlah,
		  z.`ukuran`,
		  z.`harga`,
		  z.`diskon`,
		  z.`ongkir`,
		SUM(
			  IF(
				z.`qty_konversi` IS NULL,
				z.`qty`,
				ROUND((z.`qty` / z.`qty_konversi`))
		)* z.`harga`) AS total,
		  z.`keterangan`
	  FROM
		(SELECT
		  d.`id_header`,
		  h.`nomor`,
		  h.`tanggal`,
		  h.`id_pembelian`,
		  b.`id_perusahaan`,
		  b.`supplier`,
		  b.`nomor_po`,
		  b.`tgl_pembelian`,
		  d.`id_barang`,
		  br.`nama_barang`,
		  k.`qty_konversi`,
		  d.`qty`,
		  (SELECT
			nama_ukuran
		  FROM
		  inventory_v2.`ms_ukuran` p
		  WHERE p.`id_ukuran` = d.`id_ukuran`) ukuran,
		  b.`harga`,
		  b.`diskon`,
		  b.`ongkir`,
		  b.`keterangan`
		FROM
		  inventory_v2.`tr_d_penerimaan` d
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		  JOIN inventory_v2.`tr_h_penerimaan` h
			ON d.`id_header` = h.`id_header`
		  LEFT JOIN inventory_v2.`ms_konversi` k
			ON d.`id_barang` = k.`id_barang`
		  JOIN
			(SELECT
			  d.`id_header` AS id_pembelian,
			  h.`id_perusahaan`,
			  p.`nama` AS supplier,
			  h.`nomor` AS nomor_po,
			  h.`tanggal` AS tgl_pembelian,
			  d.`id_barang`,
			  d.`harga`,
			  h.`diskon`,
			  h.`ongkir`,
			  d.`total`,
			  IF(
				h.`keterangan` IS NOT NULL,
				h.`keterangan`,
				''
			  ) AS keterangan
			FROM
			  inventory_v2.`tr_d_pembelian` d
			  JOIN inventory_v2.`tr_h_pembelian` h
				ON d.`id_header` = h.`id_header`
			  JOIN inventory_v2.`ms_perusahaan` p
				ON h.`id_perusahaan` = p.`id_perusahaan`
			WHERE p.`id_perusahaan`=) b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_barang`
		WHERE br.`flag`='B') z
	  GROUP BY id_header
	  UNION ALL 
	  SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,
		SUM(
		  IF(
			k.`qty_konversi` IS NULL,
			z.`qty`,
			ROUND((z.`qty` / k.`qty_konversi`))
		  )
		) AS jumlah,
		(SELECT
		  nama_ukuran
		FROM
		inventory_v2.`ms_ukuran` p
		WHERE p.`id_ukuran` = z.`id_ukuran`) ukuran,
		z.`harga`,
		z.`diskon`,
		z.`ongkir`,
		SUM(
			IF(
			  k.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / k.`qty_konversi`))
		) * z.`harga`)AS total,
		z.`keterangan`
	  FROM
		(SELECT
		  NULL AS id_header,
		  NULL AS nomor,
		  h.`tanggal` AS tanggal,
		  d.`id_header` AS id_pembelian,
		  h.`id_perusahaan`,
		  p.`nama` AS supplier,
		  h.`nomor` AS nomor_po,
		  h.`tanggal` AS tgl_pembelian,
		  d.`id_barang`,
		  br.`nama_barang`,
		  d.`harga`,
		  h.`diskon`,
		  h.`ongkir`,
		  d.`id_ukuran`,
		  d.`qty`,
		  d.`total`,
		  IF(
			h.`keterangan` IS NOT NULL,
			h.`keterangan`,
			''
		  ) AS keterangan
		FROM
		  inventory_v2.`tr_d_pembelian` d
		  JOIN inventory_v2.`tr_h_pembelian` h
			ON d.`id_header` = h.`id_header`
		  JOIN inventory_v2.`ms_perusahaan` p
			ON h.`id_perusahaan` = p.`id_perusahaan`
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		WHERE p.`id_perusahaan`= AND NOT EXISTS (SELECT a.`id_header` FROM inventory_v2.`tr_h_penerimaan` a
        JOIN inventory_v2.`tr_d_penerimaan` c
        ON a.`id_header`=c.`id_header`
        JOIN inventory_v2.`ms_header_barang` b
          ON c.`id_barang` = b.`id_header`
      WHERE a.`id_pembelian` = d.`id_header`)) z
    LEFT JOIN inventory_v2.`ms_konversi` k
		  ON z.`id_barang` = k.`id_barang`
		  GROUP BY z.`id_pembelian`) X ORDER BY x.`tanggal` DESC
ERROR - 2020-01-22 15:12:13 --> Query error: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_baran' at line 83 - Invalid query: SELECT * FROM (SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,SUM(
			IF(
			  z.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / z.`qty_konversi`))
			)
		  ) AS jumlah,
		  z.`ukuran`,
		  z.`harga`,
		  z.`diskon`,
		  z.`ongkir`,
		SUM(
			  IF(
				z.`qty_konversi` IS NULL,
				z.`qty`,
				ROUND((z.`qty` / z.`qty_konversi`))
		)* z.`harga`) AS total,
		  z.`keterangan`
	  FROM
		(SELECT
		  d.`id_header`,
		  h.`nomor`,
		  h.`tanggal`,
		  h.`id_pembelian`,
		  b.`id_perusahaan`,
		  b.`supplier`,
		  b.`nomor_po`,
		  b.`tgl_pembelian`,
		  d.`id_barang`,
		  br.`nama_barang`,
		  k.`qty_konversi`,
		  d.`qty`,
		  (SELECT
			nama_ukuran
		  FROM
		  inventory_v2.`ms_ukuran` p
		  WHERE p.`id_ukuran` = d.`id_ukuran`) ukuran,
		  b.`harga`,
		  b.`diskon`,
		  b.`ongkir`,
		  b.`keterangan`
		FROM
		  inventory_v2.`tr_d_penerimaan` d
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		  JOIN inventory_v2.`tr_h_penerimaan` h
			ON d.`id_header` = h.`id_header`
		  LEFT JOIN inventory_v2.`ms_konversi` k
			ON d.`id_barang` = k.`id_barang`
		  JOIN
			(SELECT
			  d.`id_header` AS id_pembelian,
			  h.`id_perusahaan`,
			  p.`nama` AS supplier,
			  h.`nomor` AS nomor_po,
			  h.`tanggal` AS tgl_pembelian,
			  d.`id_barang`,
			  d.`harga`,
			  h.`diskon`,
			  h.`ongkir`,
			  d.`total`,
			  IF(
				h.`keterangan` IS NOT NULL,
				h.`keterangan`,
				''
			  ) AS keterangan
			FROM
			  inventory_v2.`tr_d_pembelian` d
			  JOIN inventory_v2.`tr_h_pembelian` h
				ON d.`id_header` = h.`id_header`
			  JOIN inventory_v2.`ms_perusahaan` p
				ON h.`id_perusahaan` = p.`id_perusahaan`
			WHERE p.`id_perusahaan`=) b
			ON h.`id_pembelian` = b.`id_pembelian`
			AND d.`id_barang` = b.`id_barang`
		WHERE br.`flag`='B') z
	  GROUP BY id_header
	  UNION ALL 
	  SELECT
		z.`id_header`,
		z.`nomor`,
		z.`tanggal`,
		z.`id_pembelian`,
		z.`id_perusahaan`,
		z.`supplier`,
		z.`nomor_po`,
		z.`tgl_pembelian`,
		z.`id_barang`,
		z.`nama_barang`,
		SUM(
		  IF(
			k.`qty_konversi` IS NULL,
			z.`qty`,
			ROUND((z.`qty` / k.`qty_konversi`))
		  )
		) AS jumlah,
		(SELECT
		  nama_ukuran
		FROM
		inventory_v2.`ms_ukuran` p
		WHERE p.`id_ukuran` = z.`id_ukuran`) ukuran,
		z.`harga`,
		z.`diskon`,
		z.`ongkir`,
		SUM(
			IF(
			  k.`qty_konversi` IS NULL,
			  z.`qty`,
			  ROUND((z.`qty` / k.`qty_konversi`))
		) * z.`harga`)AS total,
		z.`keterangan`
	  FROM
		(SELECT
		  NULL AS id_header,
		  NULL AS nomor,
		  h.`tanggal` AS tanggal,
		  d.`id_header` AS id_pembelian,
		  h.`id_perusahaan`,
		  p.`nama` AS supplier,
		  h.`nomor` AS nomor_po,
		  h.`tanggal` AS tgl_pembelian,
		  d.`id_barang`,
		  br.`nama_barang`,
		  d.`harga`,
		  h.`diskon`,
		  h.`ongkir`,
		  d.`id_ukuran`,
		  d.`qty`,
		  d.`total`,
		  IF(
			h.`keterangan` IS NOT NULL,
			h.`keterangan`,
			''
		  ) AS keterangan
		FROM
		  inventory_v2.`tr_d_pembelian` d
		  JOIN inventory_v2.`tr_h_pembelian` h
			ON d.`id_header` = h.`id_header`
		  JOIN inventory_v2.`ms_perusahaan` p
			ON h.`id_perusahaan` = p.`id_perusahaan`
		  JOIN inventory_v2.`ms_header_barang` br
			ON d.`id_barang` = br.`id_header`
		WHERE p.`id_perusahaan`= AND NOT EXISTS (SELECT a.`id_header` FROM inventory_v2.`tr_h_penerimaan` a
        JOIN inventory_v2.`tr_d_penerimaan` c
        ON a.`id_header`=c.`id_header`
        JOIN inventory_v2.`ms_header_barang` b
          ON c.`id_barang` = b.`id_header`
      WHERE a.`id_pembelian` = d.`id_header`)) z
    LEFT JOIN inventory_v2.`ms_konversi` k
		  ON z.`id_barang` = k.`id_barang`
		  GROUP BY z.`id_pembelian`) X ORDER BY x.`tanggal` DESC
ERROR - 2020-01-22 17:04:04 --> Severity: Notice --> Undefined property: stdClass::$wakil /data/www/html/erpsmg/finance_gmedia/application/models/Model_finance_invoice_customer.php 459
ERROR - 2020-01-22 23:41:23 --> 404 Page Not Found: Assets/js
ERROR - 2020-01-22 23:49:00 --> 404 Page Not Found: Assets/js
